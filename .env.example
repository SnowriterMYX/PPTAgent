# PPTAgent 环境变量配置文件
# 复制此文件为 .env 并填入您的实际配置

# =============================================================================
# API 配置 (必需)
# =============================================================================

# API 密钥 (必需)
# 支持 OpenAI、OpenRouter、Claude 等兼容 OpenAI API 的服务
OPENAI_API_KEY=sk-your-api-key-here

# API 基础URL (可选，用于自定义API端点)
# OpenAI官方: 留空或 https://api.openai.com/v1
# OpenRouter: https://openrouter.ai/api/v1
# 本地服务: http://localhost:7812/v1
API_BASE=https://openrouter.ai/api/v1

# =============================================================================
# 模型配置
# =============================================================================

# 语言模型 (用于文本生成、内容组织等)
# OpenAI格式: gpt-4o, gpt-4o-mini, gpt-4-turbo
# OpenRouter格式: google/gemini-2.5-flash, anthropic/claude-3.5-sonnet, qwen/qwen-2.5-72b-instruct
# 本地模型: Qwen2.5-72B-Instruct, Llama-3.1-70B-Instruct
LANGUAGE_MODEL=google/gemini-2.5-flash

# 视觉模型 (用于图像理解和描述)
# OpenAI格式: gpt-4o, gpt-4o-2024-08-06
# OpenRouter格式: google/gemini-2.5-flash, openai/gpt-4o
# 本地模型: Qwen2-VL-7B-Instruct
VISION_MODEL=google/gemini-2.5-flash

# 文本嵌入模型 (用于文本相似度计算)
# OpenAI格式: text-embedding-3-small, text-embedding-3-large
# OpenRouter格式: openai/text-embedding-3-small
# 本地模型: bge-m3, bge-large-zh-v1.5
TEXT_MODEL=openai/text-embedding-3-small

# =============================================================================
# 应用配置 (可选)
# =============================================================================

# 调试模式 (开发时设置为true)
DEBUG=true

# 日志级别 (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# 最大重试次数
MAX_RETRY_TIMES=3

# 请求超时时间 (秒)
REQUEST_TIMEOUT=360

# Windows编码设置 (解决中文编码问题)
PYTHONIOENCODING=utf-8

# =============================================================================
# 模型缓存配置 (可选)
# =============================================================================

# Hugging Face 模型缓存目录 (可选，默认使用系统缓存)
# Windows默认: C:\Users\{用户名}\.cache\huggingface\hub\
# 自定义路径示例:
# HF_HOME=C:\PPTAgent\models
# TRANSFORMERS_CACHE=C:\PPTAgent\models

# =============================================================================
# 本地模型配置 (如果使用本地部署的模型)
# =============================================================================

# 本地语言模型服务地址
# LOCAL_LANGUAGE_MODEL_URL=http://localhost:8000/v1

# 本地视觉模型服务地址
# LOCAL_VISION_MODEL_URL=http://localhost:8001/v1

# 本地嵌入模型服务地址
# LOCAL_EMBEDDING_MODEL_URL=http://localhost:8002/v1

# =============================================================================
# 高级配置 (通常不需要修改)
# =============================================================================

# 相似度阈值 (用于文档检索)
SIMILARITY_THRESHOLD=0.5

# 长度因子 (控制生成文本的长度)
# LENGTH_FACTOR=1.0

# 是否在错误时退出
ERROR_EXIT=false

# 是否记录成本
RECORD_COST=false

# =============================================================================
# 配置示例 (选择一种配置方式)
# =============================================================================

# 示例1: OpenAI官方API (推荐，稳定性好)
# OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxx
# # API_BASE留空使用官方API
# LANGUAGE_MODEL=gpt-4o
# VISION_MODEL=gpt-4o
# TEXT_MODEL=text-embedding-3-small

# 示例2: OpenRouter (推荐，模型选择多，性价比高)
# OPENAI_API_KEY=sk-or-v1-xxxxxxxxxxxxxxxxxxxxx
# API_BASE=https://openrouter.ai/api/v1
# LANGUAGE_MODEL=google/gemini-2.5-flash
# VISION_MODEL=google/gemini-2.5-flash
# TEXT_MODEL=openai/text-embedding-3-small

# 示例3: Claude API (Anthropic)
# OPENAI_API_KEY=sk-ant-xxxxxxxxxxxxxxxxxxxxx
# API_BASE=https://api.anthropic.com/v1
# LANGUAGE_MODEL=anthropic/claude-3.5-sonnet
# VISION_MODEL=anthropic/claude-3.5-sonnet
# TEXT_MODEL=openai/text-embedding-3-small

# 示例4: 本地部署模型 (需要本地API服务)
# OPENAI_API_KEY=sk-dummy-key
# API_BASE=http://localhost:7812/v1
# LANGUAGE_MODEL=Qwen2.5-72B-Instruct
# VISION_MODEL=Qwen2-VL-7B-Instruct
# TEXT_MODEL=bge-m3

# 示例5: 混合配置 (不同模型使用不同服务)
# OPENAI_API_KEY=sk-your-key
# API_BASE=https://openrouter.ai/api/v1
# LANGUAGE_MODEL=anthropic/claude-3.5-sonnet  # 高质量文本生成
# VISION_MODEL=openai/gpt-4o                  # 强大的视觉理解
# TEXT_MODEL=openai/text-embedding-3-small   # 标准嵌入模型

# =============================================================================
# Windows用户特别说明
# =============================================================================
# 1. 确保已安装 LibreOffice: https://www.libreoffice.org/download/
# 2. 确保已安装 Poppler: 配置环境变量指向 poppler/Library/bin
# 3. 确保已安装 Chrome 或 Edge 浏览器
# 4. 建议使用虚拟环境: python -m venv venv && venv\Scripts\activate
# 5. 如遇编码问题，确保设置了 PYTHONIOENCODING=utf-8
